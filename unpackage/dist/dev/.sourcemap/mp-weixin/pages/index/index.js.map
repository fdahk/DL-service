{"version":3,"file":"index.js","sources":["pages/index/index.vue","../../plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n\t<!-- 页面根容器  -->\r\n\t<view class=\"page\">\r\n\t\t<!-- 顶部 -->\r\n\t\t<view class=\"custom-navbar\" :style=\"{ paddingTop: statusBarHeight + 'rpx' }\">\r\n\t\t\t<!-- 搜索框 -->\r\n\t\t\t<view class=\"navbar-search-box\">\r\n\t\t\t\t<view class=\"navbar-search\" @tap=\"handleSearchTap\">\r\n\t\t\t\t\t<SearchBar />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- tab栏 -->\r\n\t\t\t<scroll-view class=\"navbar-tab-container\" scroll-x> <!-- 只能一个直接子元素，这个子元素的宽度要能撑开，才能横向滚动 -->\r\n\t\t\t\t<view class=\"navbar-tab-box\">\r\n\t\t\t\t\t<view class=\"navbar-tab-item-box\" v-for=\"item in tabList\" :key=\"item.id\" \r\n\t\t\t\t\t@tap=\"handleTabTap(item.id)\" :class=\"{ active: item.id === activeTab }\">\r\n\t\t\t\t\t\t<text class=\"navbar-tab-item\">{{ item.name }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\t\r\n\t\t</view>\t\t\r\n\r\n\t\t<!-- body -->\r\n\t\t<view class=\"content\">\r\n\t\t\t<!-- 横向商品展示 -->\r\n\t\t\t<ScrollProductDisplay :brand=\"brand\" :goodsList=\"goodsList\" />\r\n\t\t\t<!-- 横向商品展示2 -->\r\n\t\t\t<ScrollProductDisplay :brand=\"brand2\" :goodsList=\"goodsList2\" />\r\n\t\t\t<!-- 竖向商品展示(我靠，uvui没有虚拟列表) -->\r\n\t\t\t<uv-list\r\n\t\t\t\t:list=\"goodsList\"\r\n\t\t\t\t:finished=\"finished\"\r\n\t\t\t\t@load=\"loadMore\"\r\n\t\t\t>\r\n\t\t\t\t<template #default=\"{ item, index }\">\r\n\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t<image :src=\"item.img\" mode=\"scaleToFill\" style=\"width: 100rpx; height: 100rpx;\" />\r\n\t\t\t\t\t<view>￥{{ item.price }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</uv-list>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport { ref, onMounted } from 'vue'\r\n\timport SearchBar from '../../components/search.vue'\r\n\timport ScrollProductDisplay from '../../components/scrollProductDisplay.vue'\r\n\tconst statusBarHeight = ref(0)\r\n\tconst activeTab = ref(1)\r\n\tconst fixedTopHeight = ref(0)\r\n\t// 横向商品展示1\r\n\tconst brand = ref({\r\n\t\tlogo: '/static/pngs/baiyi.png',\r\n\t\ttitle: '百亿补贴',\r\n\t\tdesc: '大牌正品'\r\n\t})\r\n\tconst goodsList = ref([\r\n\t\t{ id: 1, img: '/static/pngs/cxk.png', price: 3590 },\r\n\t\t{ id: 2, img: '/static/pngs/cxk.png', price: 1790 },\r\n\t\t{ id: 3, img: '/static/pngs/cxk.png', price: 1599 },\r\n\t\t{ id: 4, img: '/static/pngs/cxk.png', price: 4657 }\r\n\t])\r\n\t// 横向商品展示2\r\n\tconst brand2 = ref({\r\n\t\tlogo: '/static/pngs/maicai.png',\r\n\t\ttitle: '多多买菜',\r\n\t\tdesc: '次日自提'\r\n\t})\r\n\tconst goodsList2 = ref([\r\n\t\t{ id: 1, img: '/static/pngs/cgx.jpg', price: 3590 },\r\n\t\t{ id: 2, img: '/static/pngs/cgx.jpg', price: 1790 },\r\n\t\t{ id: 3, img: '/static/pngs/cgx.jpg', price: 1599 },\r\n\t\t{ id: 4, img: '/static/pngs/cgx.jpg', price: 4657 }\r\n\t])\r\n\tconst handleTabTap = (id) => {\r\n\t\tactiveTab.value = id\r\n\t}\r\n\tconst tabList = ref([\r\n\t\t{ id: 1, name: '首页' },\r\n\t\t{ id: 2, name: '食品' },\r\n\t\t{ id: 3, name: '百货' },\r\n\t\t{ id: 4, name: '运动' },\r\n\t\t{ id: 5, name: '医药' },\r\n\t\t{ id: 6, name: '手机' },\r\n\t\t{ id: 7, name: '水果' },\r\n\t\t{ id: 8, name: '男装' },\r\n\t\t{ id: 9, name: '女装' },\r\n\t\t{ id: 10, name: '电器' },\r\n\t\t{ id: 11, name: '鞋包' },\r\n\t])\r\n\r\n\tonMounted(() => {\r\n\t\tuni.getSystemInfo({\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tstatusBarHeight.value = (res.statusBarHeight || 44) * 2\r\n\t\t\t\t// 固定顶部高度 = 状态栏高度 + 搜索框高度 + tab栏高度 + 间距\r\n\t\t\t\tfixedTopHeight.value = statusBarHeight.value + 88 + 20 + 65 + 10\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n\r\n\r\n\tconst handleSearchTap = () => {\r\n\t\t// 跳转页面，并保留当前页面在页面栈中（可以返回）\r\n\t\ttry {\r\n\t\t\tuni.navigateTo({\t\r\n\t\t\t\turl: '/pages/search/index'\r\n\t\t\t})\t\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('跳转失败:', error)\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.page {\r\n\theight: 100vh;\r\n}\r\n\r\n// 头部\r\n.custom-navbar {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tz-index: 9999;\r\n\tbackground-color: white;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\t// 搜索框\r\n\t.navbar-search-box {\r\n\theight: 88rpx;  \r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0 16rpx; \r\n\tmargin-right: 160rpx; \r\n\tjustify-content: space-between;\r\n\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.navbar-search {\r\n\tflex: 1;\r\n\tmargin: 0 24rpx;\r\n\t}\r\n\r\n\t// tab栏\r\n\t.navbar-tab-container {\r\n\t\t// overflow: hidden; //注：建议别加，虽然在这好像没区别\r\n\t\tpadding: 0 20rpx;\r\n\t\tborder-bottom: 1rpx solid $uni-border-color;\r\n\t\t.navbar-tab-box {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tflex-wrap: nowrap;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\twidth: 100%;\r\n\t\t\tgap: 35rpx;\r\n\t\t\t.navbar-tab-item-box {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\t// flex: 0 0 auto; //不压缩\r\n\t\t\t\theight: 65rpx;\r\n\t\t\t\t&.active {\r\n\t\t\t\t\tborder-bottom: 4rpx solid $uni-color-primary;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.navbar-tab-item {\r\n\t\t\t\tfont-size: 34rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\t\t}\t\r\n\t}\r\n}\r\n\r\n// 内容\r\n.content {\r\n\t// v-bind() 只能接受一个 JS 表达式，表达式的结果必须是字符串或数字。如果需要拼接单位，请在表达式中拼接\r\n\tmargin-top: v-bind('fixedTopHeight + \"rpx\"');\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tgap: 10rpx;\r\n}\r\n\r\n.title {\r\n\tfont-size: 36rpx;\r\n\tcolor: #333;\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n@media screen and (max-width: 375px) {\r\n  .navbar-content {\r\n    padding: 0 12rpx;\r\n  }\r\n  \r\n  .navbar-center {\r\n    margin: 0 8rpx;\r\n  }\r\n  \r\n  .navbar-right .icon-item {\r\n    margin-left: 8rpx;\r\n    width: 28rpx;\r\n    height: 28rpx;\r\n  }\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/HBuilderX/projects/DL-service/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onMounted","uni"],"mappings":";;;;;;;;;;AA+CC,MAAM,YAAY,MAAW;AAC7B,MAAM,uBAAuB,MAAW;;;;;;;AACxC,UAAM,kBAAkBA,cAAG,IAAC,CAAC;AAC7B,UAAM,YAAYA,cAAG,IAAC,CAAC;AACvB,UAAM,iBAAiBA,cAAG,IAAC,CAAC;AAE5B,UAAM,QAAQA,cAAAA,IAAI;AAAA,MACjB,MAAM;AAAA,MACN,OAAO;AAAA,MACP,MAAM;AAAA,IACR,CAAE;AACD,UAAM,YAAYA,cAAAA,IAAI;AAAA,MACrB,EAAE,IAAI,GAAG,KAAK,wBAAwB,OAAO,KAAM;AAAA,MACnD,EAAE,IAAI,GAAG,KAAK,wBAAwB,OAAO,KAAM;AAAA,MACnD,EAAE,IAAI,GAAG,KAAK,wBAAwB,OAAO,KAAM;AAAA,MACnD,EAAE,IAAI,GAAG,KAAK,wBAAwB,OAAO,KAAM;AAAA,IACrD,CAAE;AAED,UAAM,SAASA,cAAAA,IAAI;AAAA,MAClB,MAAM;AAAA,MACN,OAAO;AAAA,MACP,MAAM;AAAA,IACR,CAAE;AACD,UAAM,aAAaA,cAAAA,IAAI;AAAA,MACtB,EAAE,IAAI,GAAG,KAAK,wBAAwB,OAAO,KAAM;AAAA,MACnD,EAAE,IAAI,GAAG,KAAK,wBAAwB,OAAO,KAAM;AAAA,MACnD,EAAE,IAAI,GAAG,KAAK,wBAAwB,OAAO,KAAM;AAAA,MACnD,EAAE,IAAI,GAAG,KAAK,wBAAwB,OAAO,KAAM;AAAA,IACrD,CAAE;AACD,UAAM,eAAe,CAAC,OAAO;AAC5B,gBAAU,QAAQ;AAAA,IAClB;AACD,UAAM,UAAUA,cAAAA,IAAI;AAAA,MACnB,EAAE,IAAI,GAAG,MAAM,KAAM;AAAA,MACrB,EAAE,IAAI,GAAG,MAAM,KAAM;AAAA,MACrB,EAAE,IAAI,GAAG,MAAM,KAAM;AAAA,MACrB,EAAE,IAAI,GAAG,MAAM,KAAM;AAAA,MACrB,EAAE,IAAI,GAAG,MAAM,KAAM;AAAA,MACrB,EAAE,IAAI,GAAG,MAAM,KAAM;AAAA,MACrB,EAAE,IAAI,GAAG,MAAM,KAAM;AAAA,MACrB,EAAE,IAAI,GAAG,MAAM,KAAM;AAAA,MACrB,EAAE,IAAI,GAAG,MAAM,KAAM;AAAA,MACrB,EAAE,IAAI,IAAI,MAAM,KAAM;AAAA,MACtB,EAAE,IAAI,IAAI,MAAM,KAAM;AAAA,IACxB,CAAE;AAEDC,kBAAAA,UAAU,MAAM;AACfC,oBAAAA,MAAI,cAAc;AAAA,QACjB,SAAS,CAAC,QAAQ;AACjB,0BAAgB,SAAS,IAAI,mBAAmB,MAAM;AAEtD,yBAAe,QAAQ,gBAAgB,QAAQ,KAAK,KAAK,KAAK;AAAA,QAC9D;AAAA,MACJ,CAAG;AAAA,IACH,CAAE;AAGD,UAAM,kBAAkB,MAAM;AAE7B,UAAI;AACHA,sBAAAA,MAAI,WAAW;AAAA,UACd,KAAK;AAAA,QACT,CAAI;AAAA,MACD,SAAQ,OAAO;AACfA,sBAAAA,MAAA,MAAA,SAAA,gCAAc,SAAS,KAAK;AAAA,MAC5B;AAAA,IAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjHF,GAAG,WAAW,eAAe;"}